<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.suneee.eas.oa.dao.car.CarArrangeHistoryDao">        <sql id="column">        `id`,`arrId`,`applyId`,`remarks`,`enterpriseCode`,`isDelete`,`informType`,        `carId`,`carName`,`plateNum`,`driverId`,`driverName`,`applicantName`,`startTime`,        `endTime`,`passengerCount`,`passengerIds`,`status`,`statusString`,`content`,        `origin`,`destination`,`expMileage`,`passengerNames`,`seatCount`,`mobile`,`carType`,        `createBy`,`createTime`,`updateBy`, `updateTime`, `refuseReason`, `procInstId`,        `taskId`,`assigneeId`,`assigneeName`    </sql>        <insert id="save" parameterType="CarArrangeHistory">        INSERT INTO oa_car_arrange_history        (<include refid="column" />)        VALUES        (#{id}, #{arrId},#{applyId},#{remarks},#{enterpriseCode},#{isDelete},#{informType},        #{carId},#{carName},#{plateNum},#{driverId},#{driverName},#{applicantName},        #{startTime},#{endTime},#{passengerCount},#{passengerIds},#{status},#{statusString},        #{content},#{origin},#{destination},#{expMileage},#{passengerNames},#{seatCount},        #{mobile},#{carType},#{createBy},#{createTime},#{updateBy},#{updateTime},        #{refuseReason},#{procInstId},#{taskId},#{assigneeId},#{assigneeName})    </insert>    <update id="update" parameterType="CarArrangeHistory">        UPDATE oa_car_arrange_history        <set>            <if test="@Ognl@isNotEmpty(arrId)">`arrId`=#{arrId},</if>            <if test="@Ognl@isNotEmpty(applyId)">`applyId`=#{applyId},</if>            <if test="@Ognl@isNotEmpty(remarks)">`remarks`=#{remarks},</if>            <if test="@Ognl@isNotEmpty(enterpriseCode)">`enterpriseCode`=#{enterpriseCode},</if>            <if test="@Ognl@isNotEmpty(isDelete)">`isDelete`=#{isDelete},</if>            <if test="@Ognl@isNotEmpty(informType)">`informType`=#{informType},</if>            <if test="@Ognl@isNotEmpty(carName)">`carName`=#{carName},</if>            <if test="@Ognl@isNotEmpty(plateNum)">`plateNum`=#{plateNum},</if>            <if test="@Ognl@isNotEmpty(driverId)">`driverId`=#{driverId},</if>            <if test="@Ognl@isNotEmpty(driverName)">`driverName`=#{driverName},</if>            <if test="@Ognl@isNotEmpty(applicantName)">`applicantName`=#{applicantName},</if>            <if test="@Ognl@isNotEmpty(startTime)">`startTime`=#{startTime},</if>            <if test="@Ognl@isNotEmpty(endTime)">`endTime`=#{endTime},</if>            <if test="@Ognl@isNotEmpty(passengerCount)">`passengerCount`=#{passengerCount},</if>            <if test="@Ognl@isNotEmpty(passengerIds)">`passengerIds`=#{passengerIds},</if>            <if test="@Ognl@isNotEmpty(status)">`status`=#{status},</if>            <if test="@Ognl@isNotEmpty(statusString)">`statusString`=#{statusString},</if>            <if test="@Ognl@isNotEmpty(content)">`content`=#{content},</if>            <if test="@Ognl@isNotEmpty(origin)">`origin`=#{origin},</if>            <if test="@Ognl@isNotEmpty(destination)">`destination`=#{destination},</if>            <if test="@Ognl@isNotEmpty(expMileage)">`expMileage`=#{expMileage},</if>            <if test="@Ognl@isNotEmpty(passengerNames)">`passengerNames`=#{passengerNames},</if>            <if test="@Ognl@isNotEmpty(seatCount)">`seatCount`=#{seatCount},</if>            <if test="@Ognl@isNotEmpty(mobile)">`mobile`=#{mobile},</if>            <if test="@Ognl@isNotEmpty(carType)">`carType`=#{carType},</if>            <if test="@Ognl@isNotEmpty(createBy)">`createBy`=#{createBy},</if>            <if test="@Ognl@isNotEmpty(createTime)">`createTime`=#{createTime},</if>            <if test="@Ognl@isNotEmpty(updateBy)">`updateBy`=#{updateBy},</if>            <if test="@Ognl@isNotEmpty(updateTime)">`updateTime`=#{updateTime},</if>            <if test="@Ognl@isNotEmpty(refuseReason)">`refuseReason`=#{refuseReason},</if>            <if test="@Ognl@isNotEmpty(procInstId)">`procInstId`=#{procInstId},</if>            <if test="@Ognl@isNotEmpty(taskId)">`taskId`=#{taskId},</if>            <if test="@Ognl@isNotEmpty(assigneeId)">`assigneeId`=#{assigneeId},</if>            <if test="@Ognl@isNotEmpty(assigneeName)">`assigneeName`=#{assigneeName},</if>        </set>        WHERE          `id`=#{id}    </update>    <delete id="deleteById" parameterType="java.lang.Long">        DELETE FROM oa_car_arrange_history WHERE id=#{id}    </delete>    <select id="findById" parameterType="java.lang.Long" resultType="CarArrangeHistory">        SELECT        <include refid="column" />        FROM oa_car_arrange_history        WHERE id = #{id}    </select>    <select id="list" parameterType="java.util.Map" resultType="CarArrangeHistory">        SELECT        <include refid="column" />        FROM oa_car_arrange_history        WHERE 1=1        <if test="@Ognl@isNotEmpty(searchText)">            AND (applicantName LIKE CONCAT("%", #{searchText}, "%")            OR plateNum LIKE CONCAT("%", #{searchText}, "%")            OR driverName LIKE CONCAT("%", #{searchText}, "%")            OR destination LIKE CONCAT("%", #{searchText}, "%"))        </if>        <if test="@Ognl@isNotEmpty(status)">AND status=#{status} </if>        <if test="@Ognl@isNotEmpty(driverName)">AND driverName=#{driverName} </if>        <if test="@Ognl@isNotEmpty(applicantName)">AND applicantName=#{applicantName} </if>        <if test="@Ognl@isNotEmpty(status)">AND status=#{status} </if>        <if test="@Ognl@isNotEmpty(destination)">AND destination=#{destination} </if>        <if test="@Ognl@isNotEmpty(enterpriseCode)">AND enterpriseCode=#{enterpriseCode} </if>        <if test="@Ognl@isNotEmpty(assigneeId)">AND assigneeId=#{assigneeId} </if>        <if test="@Ognl@isNotEmpty(startTime) and @Ognl@isNotEmpty(endTime)">            AND startTime BETWEEN #{startTime} AND #{endTime}        </if>        <if test="@Ognl@isNotEmpty(startTime) and @Ognl@isEmpty(endTime)">            AND startTime >= #{startTime}        </if>        <if test="@Ognl@isEmpty(startTime) and @Ognl@isNotEmpty(endTime)">            AND startTime <![CDATA[<= #{endTime}]]>        </if>        ORDER BY createTime DESC    </select>    <select id="findByApplyId" parameterType="java.lang.Long" resultType="CarArrangeHistory">        SELECT        <include refid="column" />        FROM oa_car_arrange_history        WHERE applyId = #{applyId}    </select>    <delete id="deleteByApplyId" parameterType="java.lang.Long">        DELETE FROM oa_car_arrange_history WHERE applyId=#{applyId}    </delete></mapper>