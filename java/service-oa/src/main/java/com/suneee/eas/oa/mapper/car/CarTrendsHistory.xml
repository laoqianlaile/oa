<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.suneee.eas.oa.dao.car.CarTrendsHistoryDao">    <sql id="column">        `id`,`carTrendsId`,`applyId`,`carId`,`carMaker`,`startMileage`,`carBack`,`endMileage`,`remarks`,        `makeTime`,`backTime`,`applicantName`,`plateNum`,`carName`,`driverName`,`startTime`,        `endTime`,`passengerCount`,`destination`,`status`,`statusString`,`origin`, `expMileage`,        `passengerNames`, `content`, `currentMile`, `refuseReason`,`procInstId`,`taskId`,        `departRemarks`, `backRemarks`,`mobile`,`assigneeId`,`assigneeName`,`createBy`,        `createTime`,`updateBy`, `updateTime`,`enterpriseCode`    </sql>    <select id="findById" parameterType="java.lang.Long" resultType="CarTrendsHistory">        SELECT        <include refid="column" />        FROM oa_car_trends_history        WHERE id=#{id}    </select>    <insert id="save" parameterType="CarTrendsHistory">        INSERT INTO oa_car_trends_history        (<include refid="column" />)        VALUES        (#{id},#{carTrendsId},#{applyId},#{carId},#{carMaker},#{startMileage},#{carBack},#{endMileage},        #{remarks},#{makeTime},#{backTime},#{applicantName},#{plateNum},#{carName},#{driverName},        #{startTime},#{endTime},#{passengerCount},#{destination},#{status},#{statusString},#{origin},        #{expMileage},#{passengerNames},#{content},#{currentMile},#{refuseReason},#{procInstId},        #{taskId},#{departRemarks},#{backRemarks},#{mobile},#{assigneeId},#{assigneeName},        #{createBy},#{createTime},#{updateBy},#{updateTime},#{enterpriseCode})    </insert>    <update id="update" parameterType="CarTrendsHistory">        UPDATE oa_car_trends_history        <set>            <if test="@Ognl@isNotEmpty(carTrendsId)">carTrendsId = #{carTrendsId},</if>            <if test="@Ognl@isNotEmpty(applyId)">applyId = #{applyId},</if>            <if test="@Ognl@isNotEmpty(carId)">carId = #{carId},</if>            <if test="@Ognl@isNotEmpty(carMaker)">carMaker = #{carMaker},</if>            <if test="@Ognl@isNotEmpty(startMileage)">startMileage = #{startMileage},</if>            <if test="@Ognl@isNotEmpty(carBack)">carBack = #{carBack},</if>            <if test="@Ognl@isNotEmpty(endMileage)">endMileage = #{endMileage},</if>            <if test="@Ognl@isNotEmpty(remarks)">remarks = #{remarks},</if>            <if test="@Ognl@isNotEmpty(makeTime)">makeTime = #{makeTime},</if>            <if test="@Ognl@isNotEmpty(backTime)">backTime = #{backTime},</if>            <if test="@Ognl@isNotEmpty(applicantName)">applicantName = #{applicantName},</if>            <if test="@Ognl@isNotEmpty(plateNum)">plateNum = #{plateNum},</if>            <if test="@Ognl@isNotEmpty(carName)">carName = #{carName},</if>            <if test="@Ognl@isNotEmpty(driverName)">driverName = #{driverName},</if>            <if test="@Ognl@isNotEmpty(startTime)">startTime = #{startTime},</if>            <if test="@Ognl@isNotEmpty(endTime)">endTime = #{endTime},</if>            <if test="@Ognl@isNotEmpty(passengerCount)">passengerCount = #{passengerCount},</if>            <if test="@Ognl@isNotEmpty(destination)">destination = #{destination},</if>            <if test="@Ognl@isNotEmpty(status)">status = #{status},</if>            <if test="@Ognl@isNotEmpty(statusString)">statusString = #{statusString},</if>            <if test="@Ognl@isNotEmpty(origin)">origin = #{origin},</if>            <if test="@Ognl@isNotEmpty(expMileage)">expMileage = #{expMileage},</if>            <if test="@Ognl@isNotEmpty(passengerNames)">passengerNames = #{passengerNames},</if>            <if test="@Ognl@isNotEmpty(content)">content = #{content},</if>            <if test="@Ognl@isNotEmpty(currentMile)">currentMile = #{currentMile},</if>            <if test="@Ognl@isNotEmpty(refuseReason)">refuseReason = #{refuseReason},</if>            <if test="@Ognl@isNotEmpty(procInstId)">procInstId=#{procInstId},</if>            <if test="@Ognl@isNotEmpty(taskId)">taskId=#{taskId},</if>            <if test="@Ognl@isNotEmpty(departRemarks)">departRemarks=#{departRemarks},</if>            <if test="@Ognl@isNotEmpty(backRemarks)">backRemarks=#{backRemarks},</if>            <if test="@Ognl@isNotEmpty(mobile)">mobile=#{mobile},</if>            <if test="@Ognl@isNotEmpty(assigneeId)">assigneeId=#{assigneeId},</if>            <if test="@Ognl@isNotEmpty(assigneeName)">assigneeName=#{assigneeName},</if>            <if test="@Ognl@isNotEmpty(createBy)">createBy=#{createBy},</if>            <if test="@Ognl@isNotEmpty(createTime)">createTime=#{createTime},</if>            <if test="@Ognl@isNotEmpty(updateBy)">updateBy=#{updateBy},</if>            <if test="@Ognl@isNotEmpty(updateTime)">updateTime=#{updateTime},</if>            <if test="@Ognl@isNotEmpty(enterpriseCode)">enterpriseCode=#{enterpriseCode},</if>        </set>        WHERE          id = #{id}    </update>    <select id="list" parameterType="java.util.Map" resultType="CarTrendsHistory">        SELECT        <include refid="column" />        FROM oa_car_trends_history        WHERE 1=1        <if test="@Ognl@isNotEmpty(searchText)">            AND (applicantName LIKE CONCAT("%",#{searchText},"%") OR plateNum LIKE CONCAT("%",#{searchText},"%")                OR driverName LIKE CONCAT("%",#{searchText},"%") OR carName LIKE CONCAT("%",#{searchText},"%")                OR destination LIKE CONCAT("%",#{searchText},"%") OR remarks LIKE CONCAT("%",#{searchText},"%"))        </if>        <if test="@Ognl@isNotEmpty(applicantName)">AND applicantName=#{applicantName}</if>        <if test="@Ognl@isNotEmpty(plateNum)">AND plateNum=#{plateNum}</if>        <if test="@Ognl@isNotEmpty(carName)">AND carName=#{carName}</if>        <if test="@Ognl@isNotEmpty(driverName)">AND driverName=#{driverName}</if>        <if test="@Ognl@isNotEmpty(destination)">AND destination=#{destination}</if>        <if test="@Ognl@isNotEmpty(origin)">AND origin=#{origin}</if>        <if test="@Ognl@isNotEmpty(status)">AND status=#{status}</if>        <if test="@Ognl@isNotEmpty(assigneeId)">AND assigneeId=#{assigneeId}</if>        <if test="@Ognl@isNotEmpty(enterpriseCode)">AND enterpriseCode=#{enterpriseCode}</if>        <if test="@Ognl@isNotEmpty(startTime) and @Ognl@isNotEmpty(endTime)">            AND startTime BETWEEN #{startTime} AND #{endTime}        </if>        <if test="@Ognl@isNotEmpty(startTime) and @Ognl@isEmpty(endTime)">            AND startTime >= #{startTime}        </if>        <if test="@Ognl@isEmpty(startTime) and @Ognl@isNotEmpty(endTime)">            AND startTime <![CDATA[<= #{endTime}]]>        </if>        ORDER BY createTime DESC    </select>    <select id="findByApplyId" parameterType="java.lang.Long" resultType="CarTrendsHistory">        SELECT        <include refid="column" />        FROM oa_car_trends_history        WHERE applyId=#{applyId}    </select></mapper>