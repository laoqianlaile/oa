package com.suneee.eas.oa.service.user.impl;import com.alibaba.fastjson.JSONArray;import com.alibaba.fastjson.JSONObject;import com.suneee.eas.common.api.buc.UserApi;import com.suneee.eas.common.constant.ServiceConstant;import com.suneee.eas.oa.service.user.SysOrgService;import com.suneee.platform.model.system.SysOrg;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.web.client.RestTemplate;import java.util.HashMap;import java.util.List;import java.util.Map;/** * @program: eas-parent * @description: 组织相关类 * @author: liuhai * @create: 2018-08-15 11:01 **/@Servicepublic class SysOrgServiceImpl implements SysOrgService{    @Autowired    private RestTemplate restTemplate;    @Override    public List<SysOrg> getSysOrgList(Long userId, String enterpriseCode){        Map<String, Object> param = new HashMap<>();        param.put("userId", userId);        param.put("enterpriseCode", enterpriseCode);        JSONObject result = restTemplate.postForObject(ServiceConstant.getBucServiceUrl() +UserApi.getOrgListByUserId, param, JSONObject.class);        List<SysOrg> orglist = null;        if(null != result){            if(result.getIntValue("status") == 0){                JSONArray array = result.getJSONArray("data");                if(null != array){                    orglist = array.toJavaList(SysOrg.class);                }            }        }        return orglist;    }}