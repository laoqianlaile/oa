<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.suneee.eas.oa.dao.car.CarApplyDao">    <select id="findById" resultType="carApply">        SELECT a.*,b.auditorId as assigneeId,b.auditorName as assigneeName        FROM oa_car_apply a        LEFT JOIN oa_car_audit b ON a.procInstId=b.procInstId        WHERE a.applyId = #{id}    </select>    <select id="findByProcInstId" resultType="carApply">        SELECT a.*,b.auditorId as assigneeId,b.auditorName as assigneeName        FROM oa_car_apply a        LEFT JOIN oa_car_audit b ON a.procInstId=b.procInstId        WHERE a.procInstId = #{procInstId}    </select>    <select id="listAll" resultType="carApply">        SELECT a.*,b.auditorId as assigneeId,b.auditorName as assigneeName        FROM oa_car_apply a        LEFT JOIN oa_car_audit b ON a.procInstId=b.procInstId        <where>            <if test="@Ognl@isNotEmpty(applicantId)">                AND a.applicantId= #{applicantId}            </if>            <if test="@Ognl@isNotEmpty(type)">                AND a.`type`= #{type}            </if>            <if test="@Ognl@isNotEmpty(status)">                AND a.`status`= #{status}            </if>            <if test="@Ognl@isNotEmpty(enterpriseCode)">                AND a.enterpriseCode= #{enterpriseCode}            </if>            <if test="@Ognl@isNotEmpty(content)">                AND a.content like #{content}            </if>            <if test="@Ognl@isNotEmpty(origin)">                AND a.origin like #{origin}            </if>            <if test="@Ognl@isNotEmpty(destination)">                AND a.destination like #{destination}            </if>            <if test="@Ognl@isNotEmpty(isDelete)">                AND a.isDelete= #{isDelete}            </if>            <if test="@Ognl@isNotEmpty(passengerCount)">                AND a.passengerCount= #{passengerCount}            </if>            <if test="@Ognl@isNotEmpty(beginUseTime)">                AND a.startTime>=#{beginUseTime}            </if>            <if test="@Ognl@isNotEmpty(endUseTime)">                <![CDATA[AND a.startTime<= #{endUseTime}]]>            </if>            <if test="@Ognl@isNotEmpty(searchCondition)">                AND (a.destination like #{searchCondition}                or a.content like #{searchCondition}                or a.applicantName like #{searchCondition})            </if>            <if test="@Ognl@isNotEmpty(beginCreateTime)">                AND a.createTime>=#{beginCreateTime}            </if>            <if test="@Ognl@isNotEmpty(endCreateTime)">                <![CDATA[AND a.createTime<= #{endCreateTime}]]>            </if>        </where>        ORDER BY createTime DESC    </select>    <insert id="save">        INSERT INTO oa_car_apply(applyId,applicantId,applicantName,mobile,isSelfDrive,passengerCount,passengerIds, passengerNames, informType, startTime, endTime, origin, destination, expMileage,content,status,enterpriseCode,isDelete,createBy,createTime,procInstId) VALUES(#{applyId},#{applicantId},#{applicantName},#{mobile},#{isSelfDrive},#{passengerCount},#{passengerIds}, #{passengerNames}, #{informType}, #{startTime}, #{endTime}, #{origin}, #{destination}, #{expMileage}, #{content}, #{status}, #{enterpriseCode}, #{isDelete}, #{createBy}, #{createTime}, #{procInstId})    </insert>    <update id="update">        UPDATE oa_car_apply        SET        taskId=#{taskId},        mobile=#{mobile},        isSelfDrive=#{isSelfDrive},        passengerCount=#{passengerCount},        passengerIds=#{passengerIds},        passengerNames=#{passengerNames},        status=#{status},        startTime=#{startTime},        endTime=#{endTime},        origin=#{origin},        destination=#{destination},        expMileage=#{expMileage},        content=#{content},        isDelete=#{isDelete}        WHERE applyId=#{applyId}    </update>    <update id="updateStatusByInstId">        UPDATE oa_car_apply        <set>            <if test="@Ognl@isNotEmpty(status)">                status=#{status},            </if>        </set>        WHERE procInstId=#{procInstId}    </update>    <update id="updateStatus" parameterType="java.util.Map">        UPDATE oa_car_apply        SET          status = #{status}        WHERE          applyId = #{applyId}    </update></mapper>